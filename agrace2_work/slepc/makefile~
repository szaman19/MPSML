FLAGS= -std=c++11
PETSC_ARCH = arch_linux_gnu_c_debug
all: test

include ${SLEPC_DIR}/lib/slepc/conf/slepc_common

test: DynamicMatrix.o IsingHamiltonian.o
	g++ -o test $(FLAGS) test.cpp DynamicMatrix.o IsingHamiltonian.o ${SLEPC_SYS_LIB} -I ${SLEPC_INC} -I ${PETSC_INC} -I${MPI_DIR}/include

DynamicMatrix.o: ../generate_hamiltonion/DynamicMatrix.h ../generate_hamiltonion/DynamicMatrix.cpp
	g++ $(FLAGS) -c ../generate_hamiltonion/DynamicMatrix.cpp

IsingHamiltonian.o: ../generate_hamiltonion/IsingHamiltonian.h ../generate_hamiltonion/IsingHamiltonian.cpp
	g++ $(FLAGS) -c ../generate_hamiltonion/IsingHamiltonian.cpp 
